<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Интегральное исчисление</title>
		<script src="C:\Users\stud\laba\reveal\sample\algebrite.bundle-for-browser.js"></script>
		<script src="C:\Users\stud\laba\reveal\sample\underscore-min.js"></script>
		<script src="C:\Users\stud\laba\reveal\sample\plotly-latest.min.js"></script>
		<script src="C:\Users\stud\laba\reveal\sample\math.js"></script>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/serif.css" id="theme">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section class="center" data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Интегральное исчисление
						=======================
				
				
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Определение первообразной
						-------------------------

						Функция $f(x)$ называется первообразной для функции $f(x)$ на данном промежутке, если
						для любого $x$ из данного промежутка $F'(x)=f(x)$


						Интегрирование функции $f(x)$ - это математическая 
						операция по нахождению первообразной $f(x)$

						Notes: Функция эф от ик называется первообразной
						для функции эф от икс на данном промежутке, если 
						для любого икс из данного промежутка Эф большое 
						от икс равно эф малое от икс
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Примеры
						-------------------------

						$F(x) = 5x^3$ - это первообразная для
						$f(x) = 15x^2$, т.к. $F'(x) = (5x^3)' = 5 \cdot3x^2 = 15x^2$
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Свойства первообразной
						----------------------

						Если первообразной $F(x)$ функции $f(x)$ 
						добавить  постоянную $C$, то полученная функция 
						$F(x)  + C$ также является первообразной для функции 
						$f(x)$

						- Первообразня суммы равна сумме первообразных
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Неопределенный интеграл. Определение
						------------------------------------

						Неопределенный интеграл от функции $f(x)$
						называется выражение $F(x)+C$, то есть 
						совокупность всех первообразных функции $f(x)$

					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Неопределенный интеграл. Определение
						------------------------------------

						Обозначается $\int f(x)dx = F(x) + C$, где 
						- $f(x)$ - подыyтегральная функция
						- $f(x)dx$ - подынтегральное выражение
						- $x$ - переменная интегрирования
						- $F(x)$ - одная из первообразных функции $f(x)$
						- $C$ - постоянная
					</script>
				</section>
				<section id="integral-table">
						<aside class="notes">
							Таблица интегралов
						</aside>
						

				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Определенный интеграл. Определение
						----------------------------------

						1. Разобъем промежуток точками 
						$x_0 = a, x_1, x_2, x_3, \cdots, x_k, x_{k+1}, \cdots, x_n = b$
						Введем следующее обозначение: $\Delta x_k = x_{k+1} - x_k$ - длина участка разбиения. 
						$\lambda = \sup \{ \Delta x_k \}$ - диаметр разбиения (наибольший
						из всех длин участков разбиения)
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Определенный интеграл. Определение
						----------------------------------

						2. На каждом частичном учаске $\[x_k; x_{k+1}\]$
						возьмем произвольную точку $\xi_k$ и вычислим в ней 
						значение $f(\xi_k)$
						3. Составим произведение $f(\xi_k) \cdot \Delta x_k$
						4. Составим сумму $$\sigma_n = \sum_{k=0}^{n-1} f(\xi_k) \cdot \Delta x_k$$
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Определенный интеграл. Определение
						----------------------------------

						5. Измельчая дробление (за счет увеличения числа точек 
						дробления $n$) и устремляя при этом диаметр разбиения к 
						нулю ($\lambda \rightarrow 0$), найдем предел последовательности
						интегральных сумм $$
						J = \lim_{n \rightarrow \infty, \lambda \rightarrow 0} \sigma_n
						$$
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="script/template">
					 Определенный Интеграл.Определение
					 ---------------------
					Если предeл $J$ существует , не зависит от способа дробления и выбора точек $\xi_k$
					, то он называется определенный интеграл функции $f(x)$ по промежутку \[a,b\]
					и Обозначается
					$$
					J=\int_a^b f(x)dx
					$$ где $a$ и $b$ называются нижними и верхними пределами интегрирования.
	
					</script>
				</section>
	
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="script/template">
					 Определенный Интеграл.Определение
					 ---------------------
					Более компактное определение определенного интеграла  записывается , компактное
					$$
					J=\lim_{n \rightarrow \infty, \lambda \rightarrow 0}\sum_{k=0}^{n-1} f(\xi_k) \cdot \Delta x_k
					$$
	
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Свойства определенного интеграла
						----------------------------------

						- $$
						\int_a^b Af(x)dx = A\int_a^b f(x)dx
						$$
						- $$
						\int_a^b (f_1(x)+f_2(x))dx = $$ $$\int_a^b f_1(x)dx + \int_a^b f_2(x)dx
						$$


					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="script/template">
					 Определенный Интеграл.Свойства
					 ---------------------
					- $$
					\int_a^b f(x)dx = \int_a^c f(x)dx + \int_c^b f(x)dx,
					$$ для любых чисел $a < c < b$
					
					
	
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Формула Ньютона-Лейбница
						------------------------
						Пусть есть непрерывная функция $f(x)$
						на отрезке $[a,b]$, а $F(x)$ её первообразная,
						тогда имеем равенство:
						$$
							\int_a^bf(x)dx = F(b) - F(a)
						$$
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Формула Ньютона-Лейбница
						------------------------
						$$
							\int_1^2x^2dx = \dfrac{2^3}{3} - \dfrac{1^3}{3} = 
							\\dfrac{8}{3} - \dfrac{1}{3} = \dfrac{7}{3}
						$$
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Способы вычисления интегралов
						-----------------------------

						- Интегрирование элементарных функций (табличных)
						- Интегрирование по частям
						$$
							\int u \cdot dv = uv - \int v \cdot du
						$$
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Способы вычисления интегралов
						-----------------------------

						- Замена переменной

						$\int F(x)dx$. Пусть $x = \phi(t)$,
							$\phi(t)$ - имеет непрерывную 
							производную. Тогда $dx = \phi(t)'dt$ и
						$ \int F(x)dx = \int F(\phi(t)) \cdot
						\phi'(t)dt$
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Примеры вычисления интегралов
						-----------------------------
					</script>
				</section>
				<section id="evaluateIntegral">
						<h2>
						Вычисление интеграла
						</h2>
						<input type="text" id="_a">
						$$\int$$
						<input type="text" id="_function">
						
						<input type="text" id="_b">
						$d$ <input type="text" id="_d">
						<input type="button" value="Считать" id="_getResult">

						<output id="_result"></output>
						
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Интерполирование функции
						------------------------

						Интерполирование - способ нахождения промежуточных
						значений велечины по имеющемуся дискретному набору
						известных значений.

						Апроксимация функции - замена одной функции другой, 
						более простой, значения которой приближены или равны 
						изначальной.
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Интерполяционные многочлениы Лагранжа
						-------------------------------------

						$$
							L(x) = \sum_{i=0}^{n} y_il_i(x),
						$$ где 
						$$
							l_i(x) = \prod_{j=0, j \ne i}^{n} 
							\dfrac{x-x_j}{x_i-x_j}
						$$
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Интерполяционные многочлениы Лагранжа
						-------------------------------------

						$$
							l_0 = \dfrac{x-x_1}{x_0-x_1} \cdot
								  \dfrac{x-x_2}{x_0-x_2} \cdot
								  \dfrac{x-x_3}{x_0-x_3}
						$$
						$$
							l_1 = \dfrac{x-x_0}{x_1-x_1} \cdot
								  \dfrac{x-x_2}{x_1-x_2} \cdot
								  \dfrac{x-x_3}{x_1-x_3}
						$$
						$$
							l_2 = \dfrac{x-x_0}{x_2-x_1} \cdot
								  \dfrac{x-x_1}{x_2-x_2} \cdot
								  \dfrac{x-x_3}{x_2-x_3}
						$$
						$$
							l_2 = \dfrac{x-x_0}{x_3-x_1} \cdot
								  \dfrac{x-x_1}{x_3-x_2} \cdot
								  \dfrac{x-x_2}{x_3-x_3}
						$$
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Геометрический смысл определенного интеграла
						--------------------------------------------

						Геометрический смысл - это площадь 
						криволинейной трапеции для неотрицательной 
						и непрерывной функции, которая расположена 
						в интервале между двумя прямыми<div class=""></div>
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Геометрический смысл определенного интеграла
						--------------------------------------------
					</script>
				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Нахождение площади фигуры, между двумя кривыми
						----------------------------------------------
					</script>
				</section>
				<section>
					<h2>
						Нахожденеи площади криволинейной трапеции
					</h2>
					<label for="function">$f(x)$</label>
					<input type="text" id="function">
					<label for="_a">$a$</label>
					<input type="text" id="_a">
					<label for="_b">$a$</label>
					<input type="text" id="_b">
					<div id="game1"></div>
					<label for="gameInput1">Ваш ответ: </label>
					<input text="text" id="gameInput1">
					<output id="gameOutput1"></output>
				</section>
				<section>
					<h2>
						Нахожденеи площади криволинейной трапеции
					</h2>
					<label for="function">$f(x)$</label>
					<input type="text" id="func">
					<label for="a">$a$</label>
					<input type="text" id="a">
					<label for="b">$b$</label>
					<input type="text" id="b">
					<input type="button" value="Посчитать площадь" id="getResult">
					<output id="result"></output>
					<div style="height: 400px" id="plot"></div>

				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						<h2>
							Игра "Угадай площадь"
						</h2>
						<div id="game1"></div>
						<label for="gameInput1">Ваш ответ: </label>
						<input text="text" id="gameInput1">
						<output id="gameOutput1"></output>
					</script>
				</section>
				<section>
					<h2>
						Игра "Найди котиков"
					</h2>
						<table id = "fidCats">
							<tbody>
								<tr>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
								</tr>
								<tr>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
								</tr>
								<tr>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
								</tr>
								<tr>
									<td></td>
									<td></td>
									<td></td>
									<td></td>
								</tr>
							</tbody>
						</table>
						<output id="winner2" style="display:none"></output>
						<button id="startGame2">Начать игру</button>
						<table id="scoreboard2" style="display:none">
							<tr>
								<td>
									<span>Игрок 1</span>
									<span id="score20">0</span> очков
								</td>
								<td id="Who2">
									1
								</td>
								<td>
									<span>Игрок 2</span>
									<span id="score21">0</span> очков
								</td>
							</tr>
						</table>

				</section>
				<section data-markdown data-markdown-separator="^Notes:">
					<script type="text/template">
						Игра "Найди интегралы"
						---------------------
					</script>
				</section>
				
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			window.onload = () =>
			{
				document.querySelector('#_getResult').onclick = () => {
				//Нахождение интеграла
					let a = document.querySelector('#_a').value;
					let b = document.querySelector('#_b').value;
					let d = document.querySelector('#_d').value;
					let func = document.querySelector('#_function').value;
					let result = document.querySelector('#_result');
					if (func === '') {
						return result.innerHTML = "Вы не ввели функцию";
					}
					if (d === '') {
						return result.innerHTML = "Вы не ввели переменную интегрирования";
					}
					if (a === '' && b !== '') {
						return result.innerHTML = "Вы не ввели нижний предел интегрирования";
					}
					if (a !== '' && b === '') {
						return result.innerHTML = "Вы не ввели верхний предел интегрирования";
					}
					if (a !== '' && b !== '') {
						return result.innerHTML = Algebrite.defint(func, d, b, a);
					}
					return result.innerHTML = katex.renderToString(
						Algebrite.simplify(
							Algebrite.integral(func, d) + '+ C'
						).toLatexString()
					);
				}

				//Нахождение площади криволинейной трапеции
				document.querySelector('#getResult').onclick = () => {
					let a = document.querySelector('#a').value;
					let b = document.querySelector('#b').value;
					let func = document.querySelector('#func').value;
					let result = document.querySelector('#result');
					if (func === '') {
						return result.innerHTML = "Вы не ввели функцию";
					}
					if (a === '' && b !== '') {
						return result.innerHTML = "Вы не ввели левую границу";
					}
					if (a !== '' && b === '') {
						return result.innerHTML = "Вы не ввели правую границу";
					}
					if (a > b) {
						return result.innerHTML = "Вы перепутали границы";
					}
					if (a === b) {
						return result.innerHTML = "0";
					}
					plot (
						'plot',
						document.querySelector('#func').value,
						document.querySelector('#a').value,
						document.querySelector('#b').value,
					);
					return result.innerHTML = Algebrite.defint(func, 'x', a, b)
				}

				const plot = (place, expr, a, b) => {
					const exprCompile = math.compile(expr);
					const aCompile = math.compile(a);
					const bCompile = math.compile(b);
					const xValue = math.range(+a, +b+.05, .05).toArray();
					const yValue = xValue.map(
						x => {
							return exprCompile.evaluate({x});
						}
					);
					const xValueA = [a,a];
					const xValueB = [b,b];
					const yValueA = [0,exprCompile.evaluate({x:a})];
					const yValueB = [0,exprCompile.evaluate({x:b})];
					const plot1 = {
						x: xValue,
						y: yValue,
						fill: 'tozeroy',
						type: 'scater',
					}
					const plot2 = {
						x: xValueA,
						y: yValueA,
						type: 'line',
					}
					const plot3 = {
						x: xValueB,
						y: yValueB,
						type: 'line',
					}
					Plotly.newPlot(place, [plot1, plot2, plot3]);
				}

				let integralList = [
				'0',
				'1',
				'x^n',
				'a^x',
				'1/x^2',
				'1/sqrt(x)',
				'1/x',
				'e^x',
				'sin(x)',
				'cos(x)',
				'tan(x)',
				'1/cos(x)^2',
				'1/sin(x)^2'
			];

			for (let i in integralList) {
				integralList[i] = [
					'\\int ' + Algebrite.run(`printlatex(${integralList[i]})`) + ' dx',
					Algebrite.integral(integralList[i]).toLatexString()
				];
			}
			console.log(integralList);

			const integralTable = (func) => {
				let note = document.querySelector('#integral-table .notes').innerHTML;
				console.log(note);
				let slide;
				for (let i in func) {
					if (i%7 === 0) {
						slide = document.createElement('section');

						if (i == 0) {
							slide.className = 'present';
						} else {
							slide.classList = 'future';
						}
						slide.innerHTML = '<h3>Таблица интегралов</h3>';
					}

				
					slide.innerHTML += '<p>'+katex.renderToString(func[i][0])+ '=' + katex.renderToString(func[i][1]) + '+ C</p>';
					if (i%7 === 6 || func.length - i === 1) {
						slide.innerHTML += `<aside class="notes">${note}</aside>`;
						document.querySelector('#integral-table').appendChild(slide);
					}
				}

			}
			integralTable(integralList);

			let findCatsName = [
				'1.png',
				'1.png',
				'2.png',
				'2.png',
				'3.png',
				'3.png',
				'4.png',
				'4.png',
				'5.png',
				'5.png',
				'6.png',
				'6.png',
				'7.png',
				'7.png',
				'8.png',
				'8.png',
			];
			let score = [0,0];
			let who = 0;
			let start = false;
			let lastValue = undefined;

			let tds = document.querySelectorAll('#findCats td');
			let i = 0;
			for (let td of tds) {
				td.innerHTML = `<img data-active="0" data-id="${i++}" width="80px" height="60px" data-cats="" sra="img/0.jpg">`;
			}
			}
			
		</script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				center: false,
				slideNumber: true,
				math: {
					notificationsEnabled: true,
				},
				dependencies: [
					{
						src: 'plugin/math-katex/math-katex.js',
						async: true,
						callback: () => {},
					}
				],

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
